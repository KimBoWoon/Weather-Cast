package com.bowoon.android.weather_cast.ui.vm

import androidx.lifecycle.MutableLiveData
import androidx.lifecycle.viewModelScope
import com.bowoon.android.domain.dto.Geocoding
import com.bowoon.android.domain.dto.WeatherInfo
import com.bowoon.android.domain.usecase.WeatherCastUseCase
import com.bowoon.android.weather_cast.base.BaseVM
import dagger.hilt.android.lifecycle.HiltViewModel
import kotlinx.coroutines.Dispatchers
import kotlinx.coroutines.launch
import kotlinx.coroutines.withContext
import javax.inject.Inject

@HiltViewModel
class MainVM @Inject constructor(
    private val weatherCastUseCase: WeatherCastUseCase
) : BaseVM() {
    val weatherInfoList = MutableLiveData<List<WeatherInfo?>>()
    val geocoding = mutableListOf<Geocoding>(
        Geocoding(35f, 139f),
        Geocoding(37.5666805f, 126.9784147f),
        Geocoding(37.74913611f, 128.8784972f),
        Geocoding(38.37796111f, 128.4701639f),
        Geocoding(37.52193056f, 129.1166333f),
        Geocoding(37.44708611f, 129.1674889f),
        Geocoding(38.204275f, 128.5941667f),
        Geocoding(38.10729167f, 127.9922444f),
        Geocoding(38.07283333f, 128.6213556f),
        Geocoding(37.18086111f, 128.4640194f),
        Geocoding(37.33908333f, 127.9220556f),
        Geocoding(38.06697222f, 128.1726972f),
        Geocoding(37.37780833f, 128.6630861f),
        Geocoding(38.14405556f, 127.3157333f),
        Geocoding(37.87854167f, 127.7323111f),
        Geocoding(37.16122778f, 128.9879972f),
        Geocoding(37.36791667f, 128.3923528f),
        Geocoding(37.69442222f, 127.8908417f),
        Geocoding(38.10340833f, 127.7103556f),
        Geocoding(37.48895833f, 127.9872222f),
//        Geocoding(37.82883056f, 127.5117778f),
//        Geocoding(37.74385833f, 126.49f),
//        Geocoding(37.65590833f, 126.7770556f),
//        Geocoding(37.42637222f, 126.9898f),
//        Geocoding(37.47575f, 126.8667083f),
//        Geocoding(37.41450556f, 127.2577861f),
//        Geocoding(37.591625f, 127.1318639f),
//        Geocoding(37.35865833f, 126.9375f),
//        Geocoding(37.61245833f, 126.7177778f),
//        Geocoding(37.63317778f, 127.2186333f),
//        Geocoding(37.90091667f, 127.0626528f),
//        Geocoding(37.5035917f, 126.766f),
//        Geocoding(37.44749167f, 127.1477194f),
//        Geocoding(37.30101111f, 127.0122222f),
//        Geocoding(37.37731944f, 126.8050778f),
//        Geocoding(37.29851944f, 126.8468194f),
//        Geocoding(37.005175f, 127.2818444f),
//        Geocoding(37.3897f, 126.9533556f),
//        Geocoding(37.78245f, 127.0478194f),
//        Geocoding(37.48893611f, 127.4898861f),
//        Geocoding(37.324606f, 127.652958f),
//        Geocoding(37.29535833f, 127.6396222f),
//        Geocoding(38.09336389f, 127.0770667f),
//        Geocoding(37.14691389f, 127.0796417f),
//        Geocoding(37.443725f, 126.6388889f),
//        Geocoding(37.23147778f, 127.2038444f),
//        Geocoding(37.34195f, 126.9703889f),
//        Geocoding(37.73528889f, 127.0358417f),
//        Geocoding(37.27543611f, 127.4432194f),
//        Geocoding(37.75708333f, 126.7819528f),
//        Geocoding(36.98943889f, 127.1146556f),
//        Geocoding(37.89215556f, 127.2024194f),
//        Geocoding(37.53649722f, 127.217f),
//        Geocoding(37.19681667f, 126.8335306f),
//        Geocoding(37.45617301f, 126.7059186f),
//        Geocoding(34.87735833f, 128.6233556f),
//        Geocoding(35.683625f, 127.9116556f),
//        Geocoding(35.82208889f, 128.7434639f),
//        Geocoding(35.85316944f, 129.2270222f),
//        Geocoding(35.72298611f, 128.2650222f),
//        Geocoding(34.9699f, 128.3245417f),
//        Geocoding(36.11655f, 128.3467778f),
//        Geocoding(36.23999722f, 128.5750778f),
//        Geocoding(35.24135f, 129.224475f),
//        Geocoding(36.13689722f, 128.1158f),
//        Geocoding(35.22550556f, 128.8916667f),
//        Geocoding(34.83455833f, 127.8944667f),
//        Geocoding(35.77168056f, 128.433275f),
//        Geocoding(35.196874f, 128.567863f),
//        Geocoding(36.58363056f, 128.1890194f),
//        Geocoding(35.50077778f, 128.7489444f),
//        Geocoding(36.89026111f, 128.734875f),
//        Geocoding(35.00028333f, 128.0667778f),
//        Geocoding(35.41249167f, 127.8756194f),
//        Geocoding(36.40796944f, 128.1612639f),
//        Geocoding(35.91621111f, 128.2851528f),
//        Geocoding(36.56546389f, 128.7316222f),
//        Geocoding(35.33192778f, 129.0394111f),
//        Geocoding(36.41210278f, 129.3683556f),
//        Geocoding(36.664275f, 129.1146222f),
//        Geocoding(36.80293611f, 128.6263444f),
//        Geocoding(35.97005278f, 128.940775f),
//        Geocoding(36.65495000f, 128.4550222f),
//        Geocoding(37.48057500f, 130.9037889f),
//        Geocoding(35.53073889f, 129.2971639f),
//        Geocoding(36.99018611f, 129.4027861f),
//        Geocoding(35.31911944f, 128.2638222f),
//        Geocoding(36.34975833f, 128.6993639f),
//        Geocoding(35.17703333f, 128.1100000f),
//        Geocoding(35.1330600f, 128.710081f),
//        Geocoding(35.54153611f, 128.4945333f),
//        Geocoding(35.2540033f, 128.6401544f),
//        Geocoding(35.64431111f, 128.7362000f),
//        Geocoding(36.43329167f, 129.0594000f),
//        Geocoding(35.99254722f, 128.4037972f),
//        Geocoding(34.85125833f, 128.4352778f),
//        Geocoding(36.00568611f, 129.3616667f),
//        Geocoding(35.06420278f, 127.7534306f),
//        Geocoding(35.26940556f, 128.4087083f),
//        Geocoding(35.51746944f, 127.7274194f),
//        Geocoding(35.56361667f, 128.1679306f),
//        Geocoding(35.1798f, 129.075f),
//        Geocoding(35.8715f, 128.6017f),
//        Geocoding(35.546f, 129.3123f),
//        Geocoding(35.13995836f, 126.793668f),
//        Geocoding(35.13301749f, 126.9025572f),
//        Geocoding(35.14627776f, 126.9230903f),
//        Geocoding(35.1812138f, 126.9010806f),
//        Geocoding(35.1525164f, 126.8895063f),
//        Geocoding(35.82692778f, 128.5350639f),
//        Geocoding(35.85520833f, 128.6328667f),
//        Geocoding(35.84621351f, 128.597702f),
//        Geocoding(35.82997744f, 128.5325905f),
//        Geocoding(35.77475029f, 128.4313995f),
//        Geocoding(35.88682728f, 128.6355584f),
//        Geocoding(35.8858646f, 128.5828924f),
//        Geocoding(35.87194054f, 128.5591601f),
//        Geocoding(35.85835148f, 128.6307011f),
//        Geocoding(35.86952722f, 128.6061745f),
//        Geocoding(36.35218384f, 127.4170933f),
//        Geocoding(36.31204028f, 127.4548596f),
//        Geocoding(36.35707299f, 127.3834158f),
//        Geocoding(36.36405586f, 127.3561363f),
//        Geocoding(36.32582989f, 127.421381f),
//        Geocoding(35.20916389f, 128.9829083f),
//        Geocoding(35.24007778f, 129.0943194f),
//        Geocoding(35.13340833f, 129.0865f),
//        Geocoding(35.13589444f, 129.059175f),
//        Geocoding(35.20187222f, 129.0858556f),
//        Geocoding(35.15995278f, 129.0553194f),
//        Geocoding(35.19418056f, 128.992475f),
//        Geocoding(35.14946667f, 128.9933333f),
//        Geocoding(35.10142778f, 128.9770417f),
//        Geocoding(35.09483611f, 129.0263778f),
//        Geocoding(35.14246667f, 129.115375f),
//        Geocoding(35.17318611f, 129.082075f),
//        Geocoding(35.08811667f, 129.0701861f),
//        Geocoding(35.10321667f, 129.0345083f),
//        Geocoding(35.16001944f, 129.1658083f),
//        Geocoding(35.24477541f, 129.2222873f),
//        Geocoding(37.514575f, 127.0495556f),
//        Geocoding(37.52736667f, 127.1258639f),
//        Geocoding(37.63695556f, 127.0277194f),
//        Geocoding(37.54815556f, 126.851675f),
//        Geocoding(37.47538611f, 126.9538444f),
//        Geocoding(37.53573889f, 127.0845333f),
//        Geocoding(37.49265f, 126.8895972f),
//        Geocoding(37.44910833f, 126.9041972f),
//        Geocoding(37.65146111f, 127.0583889f),
//        Geocoding(37.66583333f, 127.0495222f),
//        Geocoding(37.571625f, 127.0421417f),
//        Geocoding(37.50965556f, 126.941575f),
//        Geocoding(37.56070556f, 126.9105306f),
//        Geocoding(37.57636667f, 126.9388972f),
//        Geocoding(37.48078611f, 127.0348111f),
//        Geocoding(37.56061111f, 127.039f),
//        Geocoding(37.58638333f, 127.0203333f),
//        Geocoding(37.51175556f, 127.1079306f),
//        Geocoding(37.51423056f, 126.8687083f),
//        Geocoding(37.52361111f, 126.8983417f),
//        Geocoding(37.53609444f, 126.9675222f),
//        Geocoding(37.59996944f, 126.9312417f),
//        Geocoding(37.57037778f, 126.9816417f),
//        Geocoding(37.56100278f, 126.9996417f),
//        Geocoding(37.60380556f, 127.0947778f),
//        Geocoding(35.54404265f, 129.3301754f),
//        Geocoding(35.50516996f, 129.4166919f),
//        Geocoding(35.58270783f, 129.361245f),
//        Geocoding(35.52230648f, 129.2424748f),
//        Geocoding(35.56971228f, 129.3328162f),
//        Geocoding(37.74692907f, 126.4878417f),
//        Geocoding(37.53770728f, 126.737744f),
//        Geocoding(37.46369169f, 126.6502972f),
//        Geocoding(37.44971062f, 126.7309669f),
//        Geocoding(37.47401607f, 126.6432441f),
//        Geocoding(37.46369169f, 126.6502972f),
//        Geocoding(37.50784204f, 126.7219068f),
//        Geocoding(37.54546372f, 126.6759616f),
//        Geocoding(37.41038125f, 126.6782658f),
//        Geocoding(37.47384843f, 126.6217617f),
//        Geocoding(34.63891111f, 126.7691972f),
//        Geocoding(35.43273889f, 126.7041083f),
//        Geocoding(34.60806944f, 127.2870556f),
//        Geocoding(35.27895556f, 127.2941083f),
//        Geocoding(34.93753611f, 127.6981778f),
//        Geocoding(35.19945833f, 127.4649333f),
//        Geocoding(35.96464167f, 126.7388444f),
//        Geocoding(35.800575f, 126.8827528f),
//        Geocoding(35.01283889f, 126.7128667f),
//        Geocoding(35.41325556f, 127.3925f),
//        Geocoding(35.318125f, 126.9901639f),
//        Geocoding(34.80878889f, 126.3944194f),
//        Geocoding(34.98736944f, 126.4837f),
//        Geocoding(36.00382778f, 127.6628667f),
//        Geocoding(34.76833333f, 127.0820889f),
//        Geocoding(35.72853333f, 126.7356778f),
//        Geocoding(35.37138889f, 127.1396306f),
//        Geocoding(34.94760556f, 127.4893306f),
//        Geocoding(34.78981111f, 126.3817306f),
//        Geocoding(34.75731111f, 127.6643861f),
//        Geocoding(35.27416667f, 126.5140861f),
//        Geocoding(34.79698889f, 126.6986194f),
//        Geocoding(34.30785278f, 126.7570972f),
//        Geocoding(35.84296944f, 127.1495972f),
//        Geocoding(35.945275f, 126.9598528f),
//        Geocoding(35.60806389f, 127.2847528f),
//        Geocoding(35.29881111f, 126.786975f),
//        Geocoding(35.64429722f, 127.5233f),
//        Geocoding(34.678525f, 126.9091083f),
//        Geocoding(35.80918889f, 127.1219194f),
//        Geocoding(35.56687222f, 126.8581111f),
//        Geocoding(34.48375f, 126.2655444f),
//        Geocoding(35.78871944f, 127.4269667f),
//        Geocoding(35.06274444f, 126.5186194f),
//        Geocoding(34.57043611f, 126.6012889f),
//        Geocoding(35.06148056f, 126.9885667f),
//        Geocoding(37.42949814f, 127.2551569f),
//        Geocoding(33.25235f, 126.5125556f),
//        Geocoding(33.49631111f, 126.5332083f),
//        Geocoding(35.86854167f, 128.6035528f),
//        Geocoding(36.27183611f, 127.2509306f),
//        Geocoding(36.519901f, 127.236112f),
//        Geocoding(36.44361389f, 127.1211194f),
//        Geocoding(36.81243056f, 127.7888306f),
//        Geocoding(36.488994f, 127.29562f),
//        Geocoding(36.463826f, 127.28035f),
//        Geocoding(36.10586944f, 127.4903083f),
//        Geocoding(36.891878f, 126.613277f),
//        Geocoding(36.891878f, 126.613277f),
//        Geocoding(36.479522f, 127.289448f),
//        Geocoding(36.47944f, 127.258565f),
//        Geocoding(36.18420278f, 127.1009111f),
//        Geocoding(36.475097f, 127.252375f),
//        Geocoding(36.516156f, 127.254501f),
//        Geocoding(36.493402f, 127.241922f),
//        Geocoding(36.500442f, 127.234917f),
//        Geocoding(36.49573f, 127.255849f),
//        Geocoding(36.496682f, 127.246898f),
//        Geocoding(36.98178056f, 128.3678417f),
//        Geocoding(36.509374f, 127.2463f),
//        Geocoding(36.508065f, 127.25066f),
//        Geocoding(36.881997f, 127.684597f),
//        Geocoding(36.89075f, 126.6302528f),
//        Geocoding(36.469407f, 127.282581f),
//        Geocoding(36.51731111f, 127.2623972f),
//        Geocoding(36.502796f, 127.247611f),
//        Geocoding(36.504689f, 127.249982f),
//        Geocoding(36.518492f, 127.232222f),
//        Geocoding(36.517357f, 127.236121f),
//        Geocoding(36.517357f, 127.236121f),
//        Geocoding(36.822626f, 127.160304f),
//        Geocoding(36.51288f, 127.265305f),
//        Geocoding(36.51288f, 127.265305f),
//        Geocoding(36.51288f, 127.265305f),
//        Geocoding(36.478112f, 127.28094f),
//        Geocoding(36.478112f, 127.28094f),
//        Geocoding(36.478112f, 127.28094f),
//        Geocoding(36.330575f, 126.6148861f),
//        Geocoding(36.48653333f, 127.7316083f),
//        Geocoding(36.527112f, 127.370376f),
//        Geocoding(36.27282222f, 126.9118639f),
//        Geocoding(36.479121f, 127.254403f),
//        Geocoding(36.479121f, 127.254403f),
//        Geocoding(36.479121f, 127.254403f),
//        Geocoding(36.479121f, 127.254403f),
//        Geocoding(36.78209722f, 126.4521639f),
//        Geocoding(36.07740556f, 126.6938889f),
//        Geocoding(36.488897f, 127.3000509f),
//        Geocoding(36.7223175f, 127.1582525f),
//        Geocoding(36.484202f, 127.296956f),
//        Geocoding(36.51204167f, 127.2482222f),
//        Geocoding(36.78710556f, 127.0046417f),
//        Geocoding(36.474616f, 127.282781f),
//        Geocoding(36.5418737f, 127.2737741f),
//        Geocoding(36.5590889f, 127.3268658f),
//        Geocoding(36.592587f, 127.2716217f),
//        Geocoding(36.17205833f, 127.7856111f),
//        Geocoding(36.67980556f, 126.850875f),
//        Geocoding(36.30355f, 127.5736333f),
//        Geocoding(36.93740556f, 127.6926222f),
//        Geocoding(36.4967934f, 127.2056006f),
//        Geocoding(36.6812513f, 127.1955125f),
//        Geocoding(36.50843f, 127.262509f),
//        Geocoding(37.12976944f, 128.1931528f),
//        Geocoding(36.604528f, 127.298399f),
//        Geocoding(36.5119569f, 127.247612f),
//        Geocoding(36.78218056f, 127.5832889f),
//        Geocoding(36.85253889f, 127.4376444f),
//        Geocoding(36.804125f, 127.1524667f),
//        Geocoding(36.45626944f, 126.8042556f),
//        Geocoding(36.549748f, 127.431119f),
//        Geocoding(36.58399722f, 127.5117306f),
//        Geocoding(36.98818056f, 127.9281444f),
//        Geocoding(36.74266667f, 126.299975f),
//        Geocoding(36.48545f, 127.289926f),
//        Geocoding(36.59836111f, 126.6629083f),
//        Geocoding(36.3506295f, 127.384861f)
    )

    init {
        viewModelScope.launch {
            val weatherList = geocoding.map { geo ->
                weatherCastUseCase.getWeather(geo.lat, geo.lon)
            }
            weatherInfoList.postValue(weatherList)
        }
    }
}